<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Victoria</title>
  {% block stylesheets %}
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  
  <!-- Calendario -->
   <link rel="stylesheet" href="{{asset('bundles/victoriaapp/calendario/core/main.css')}}" />
  <link rel="stylesheet" href="{{asset('bundles/victoriaapp/calendario/daygrid/main.css')}}" />
  
  
  <!-- Bootstrap 3.3.7 -->
  
  <link rel="stylesheet" href="{{ asset('bundles/bower_components/bootstrap/dist/css/bootstrap.min.css') }}">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="{{ asset('bundles/bower_components/font-awesome/css/font-awesome.min.css')}} ">
  <!-- Ionicons -->
  <link rel="stylesheet" href="{{ asset('bundles/bower_components/Ionicons/css/ionicons.min.css') }} ">
  <!-- jvectormap -->
  <link rel="stylesheet" href="{{ asset('bundles/bower_components/jvectormap/jquery-jvectormap.css') }} ">
  <!-- Theme style -->
  <link rel="stylesheet" href="{{ asset('bundles/dist/css/AdminLTE.min.css') }} ">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. _all-skins.min.css -->
  <link rel="stylesheet" href="{{ asset('bundles/dist/css/skins/skin-yellow-light.min.css') }} ">

  <link rel="stylesheet" href="{{asset('bundles/victoriaapp/css/jquery.dataTables_themeroller.css')}}" />
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}" />
  <!-- Google Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
  <style type="text/css">
      .info-box-icon-oz {
  border-top-left-radius: 2px;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 2px;
  display: block;
  float: left;
  height: 71px;
  width: 71px;
  text-align: center;
  font-size: 45px;
  //line-height: 90px;
  //background: rgba(0, 0, 0, 0.2);
}



  </style>
  <style>


.filterDiv {

  display: none;
}

.show {
  display: block;
}



</style>
  {% endblock %}      
</head>
<body class="hold-transition skin-yellow-light sidebar-mini">
<div class="wrapper">

  <header class="main-header">

    <!-- Logo -->
    <a href="{{ path('focal_app_menu') }}" class="logo" style="background-color: #004c97">
      <!-- mini logo for sidebar mini 50x50 pixels -->
      <span class="logo-mini"><b><img src="{{ asset('bundles/victoriaapp/images/logo_victoria_dc.png') }}" alt="logo victoria"></b></span>
      <!-- logo for regular state and mobile devices -->
      <span class="logo-lg"><b><img src="{{ asset('bundles/victoriaapp/images/logo_victoria_bar.png') }}" alt="logo victoria"></b></span>
    </a>

    <!-- Header Navbar: style can be found in header.less -->
    <nav class="navbar navbar-static-top" style="background-color: #004c97">
      <!-- Sidebar toggle button-->
      <a href="#" class="sidebar-toggle" style="background-color: #ffbf00" data-toggle="push-menu" role="button">
        <span class="sr-only">Toggle navigation</span>
      </a>
      <!-- Navbar Right Menu -->
      <div class="navbar-custom-menu">
        <ul class="nav navbar-nav">
         <li>
             <div style="height: 50px; display: table-cell; vertical-align: middle; "> 
              <p id="cuentar" style="color: white; font-size: medium;"></p>
            </div>
         </li>    
          <!-- Notifications: style can be found in dropdown.less -->
          <li class="dropdown notifications-menu">
            {% block notificaciones %}    
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-bell-o"></i>
                    <span class="label label-warning">{{ datosnoti|default(null)|length }}</span>
                </a>
                <ul class="dropdown-menu">
                    <li class="header">Tiene {{ datosnoti|default(null)|length }} notificaciones </li>
                    <li>
                      <!-- inner menu: contains the actual data -->
                      <ul class="menu">
                        {% for noti in datosnoti|default(0) if noti.orden < 7 %}  
                        <li>
                          <a href="{{ path('datosnotificaciones') }}">
                            <i class="fa fa-users text-aqua"></i> {{ noti.mensaje }}
                          </a>
                        </li>
                        {% endfor %}
                      </ul>
                    </li>
                    <li class="footer"><a href="{{ path('datosnotificaciones')}}">Ver todos</a></li>
                </ul>            
            {% endblock %}
          </li>
          <!-- Tasks: style can be found in dropdown.less -->
          <li class="dropdown tasks-menu">
            {% block tareas %}  
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <i class="fa fa-flag-o"></i>
              <span class="label label-danger">{{ datostar|default(null)|length }}</span>
            </a>
            <ul class="dropdown-menu">
              <li class="header">Tienes {{ datostar|default(null)|length }} tareas</li>
              <li>
                <!-- inner menu: contains the actual data -->
                <ul class="menu">
                  {% for tar in datostar|default(0) if tar.orden|default(0) < 7 %}  
                  <li><!-- Task item -->
                    <a href="{{ path('datostareas') }}">
                      <h3>
                        {{ tar.titulo }}
                        <small class="pull-right">{{ tar.progreso }}%</small>
                      </h3>
                      <div class="progress xs">
                        <div class="progress-bar progress-bar-aqua" style="width: {{ tar.progreso }}%" role="progressbar"
                             aria-valuenow="{{ tar.progreso }}" aria-valuemin="0" aria-valuemax="100">
                          <span class="sr-only">{{ tar.progreso }}% Complete</span>
                        </div>
                      </div>
                    </a>
                  </li>
                  {% endfor %}
                  <!-- end task item -->
                </ul>
              </li>
              <li class="footer">
                <a href="{{ path('datostareas') }}">Ver todas las tareas</a>
              </li>
            </ul>            
            {% endblock %}
          </li>
          <!-- User Account: style can be found in dropdown.less -->
          <li class="dropdown user user-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <img src="{{ asset('bundles/dist/img/user.png') }}" class="user-image" alt="User Image">
              <span class="hidden-xs">{{ app.user.username|upper }}</span>
            </a>
            <ul class="dropdown-menu">
              <!-- User image -->
              <li class="user-header">
                <img src="{{ asset('bundles/dist/img/user.jpg') }}" class="img-circle" alt="User Image">

                <p>
                  {{ app.user.username|upper }}
                  <small>Campa√±a: {{ app.session.get('_nombre_campana') }}</small>
                  <small>Distrito: {{ app.session.get('_nombre_distrito') }}</small>
                </p>
              </li>
              <!-- Menu Footer-->
              <li class="user-footer">
                <div style="background-color: #6E6F6F" class="pull-right" >
                  <a href="{{ path('logout') }}" class="btn btn-success btn-success">Salir</a>
                </div>
              </li>
            </ul>
          </li>
        </ul>
      </div>

    </nav>
  </header>
  <!-- Left side column. contains the logo and sidebar -->
  <aside class="main-sidebar" style="border-right-width: 1.5px; border-right-color: #004c97">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
      <!-- Sidebar user panel -->
      <div class="user-panel">
        <div class="pull-left image">
          <img src="{{ asset('bundles/dist/img/user.jpg') }}" class="img-circle" alt="User Image">
        </div>
        <div class="pull-left info">
          <p>{{ app.session.get('_nombre_usuario') }}</p>
          <a href="#"><i class="fa fa-circle text-success"></i> Activo</a>
        </div>
      </div>
      <!-- search form -->
      <!--form action="#" method="get" class="sidebar-form">
        <div class="input-group">
          <input type="text" name="q" class="form-control" placeholder="Search...">
          <span class="input-group-btn">
                <button type="submit" name="search" id="search-btn" class="btn btn-flat">
                  <i class="fa fa-search"></i>
                </button>
              </span>
        </div>
      </form -->
      <!-- /.search form -->
      <!-- sidebar menu: : style can be found in sidebar.less -->
      {% block menu %}
      
      {% endblock %}
    </section>
    <!-- /.sidebar -->
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper" style="padding: 15px">
      
    {% block header %}  
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Dashboard
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Dashboard</li>
      </ol>
    </section>
    {% endblock %}
    
    {% block content %}

    <!-- Main content -->
    <section class="content">
      <!-- Info boxes -->
      <!-- Info boxes -->
        <div class="row">
            <a onclick="filterSelection('Estructuras');">
                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box">
                        <span class="info-box-icon bg-aqua"><i class="ion ion-ios-calendar-outline"></i></span>
                        <div class="info-box-content">
                            <span class="info-box-text">Completacion</br>general de</br>estructura</span>
                            <span class="info-box-number">{% if (comcc.total_comisiones > 0 ) %} {{ ((comca.total_asignadas/comcc.total_comisiones)*100)|round(2) }}%{%else%}0{%endif%}</span>
                        </div>
              <!-- /.info-box-content -->
                    </div>
            <!-- /.info-box -->
                </div>
            </a>
        <!-- /.col -->
        <div class="col-md-3 col-sm-6 col-xs-12">
            <a onclick="filterSelection('Votantes');">
                <div class="info-box">
                  <span class="info-box-icon bg-red"><i class="fa fa-user-o"></i></span>

                  <div class="info-box-content">
                    <span class="info-box-text">Votantes</span>
                    <span class="info-box-number">{{ cevsvo.porcarga }}%</span>
                  </div>
                  <!-- /.info-box-content -->
                </div>
            </a>
          <!-- /.info-box -->
        </div>
        <!-- /.col -->

        <!-- fix for small devices only -->
        <div class="clearfix visible-sm-block"></div>

            <div class="col-md-3 col-sm-6 col-xs-12">
                <a onclick="filterSelection('Ingresos');">
                  <div class="info-box">
                    <span class="info-box-icon bg-green"><i class="ion ion-cash"></i></span>

                    <div class="info-box-content">
                      <span class="info-box-text">Ingresos/Egresos</span>
                      <span class="info-box-number">{%if (ingresos.total|default(0) > 0 )%}{{ ((egresos.total/ingresos.total)*100)|round(2) }}%{%else%}0{%endif%}</span>
                    </div>
                    <!-- /.info-box-content -->
                  </div>
                  <!-- /.info-box -->
                </a>
            </div>
        <!-- /.col -->
        <div class="col-md-3 col-sm-6 col-xs-12">
                <a onclick="filterSelection('Campanas');">
          <div class="info-box">
            <span class="info-box-icon bg-yellow"><i class="ion ion-thumbsup"></i></span>

            <div class="info-box-content">
              <span class="info-box-text">Campa√±a Publicitaria</span>
              <span class="info-box-number">{{ pubpal.total_alcance|default(0) }}</span>
              <span>(alcance)</span>
            </div>
            <!-- /.info-box-content -->
          </div>
                </a>
          <!-- /.info-box -->
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->

      
      
            
       <!-- ************** Votantes por distrito/Votantes por CV ************** -->
      <div class="row filterDiv Estructuras">
          <!-- Columna izquierda -->
          <div class="col-md-4">
            <!-- TABLE: LATEST ORDERS -->
            <div class="box box-info">
              <div class="box-header with-border">
                <h3 class="box-title">Estructura A</h3>

                <div class="box-tools pull-right">
                  <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
              </div>
              <!-- /.box-header -->
              <div class="box-body">                  
               <div class="row">
                <div class="col-xs-6 col-md-12 text-center">
                    <input type="text" class="knob" value="{% if (canxest.cant_estruct1 > 0 ) %} {{((asixest.asignado_estruct1/canxest.cant_estruct1)*100)|round(2)}}% {%else%}0{%endif%}" data-skin="tron" data-thickness="0.2" data-width="120" data-height="120" data-fgColor="#3b5998" data-readonly="true">
                </div>
                </div> 
                <div class="row">
                    <div> 
                      <ul> 
                          <li>Total definidas: {{ canxest.cant_estruct1 }}</li> 
                          <li>Total asignadas: {{ asixest.asignado_estruct1 }}</li> 
                      </ul>
                    </div>
                </div>                  
              </div>
              <!-- /.box-body -->

            </div>
              
          </div>  

        <!-- Columna central -->
          <div class="col-md-4">
            <!-- TABLE: LATEST ORDERS -->
            <div class="box box-primary">
              <div class="box-header with-border">
                <h3 class="box-title">Estructura B</h3>

                <div class="box-tools pull-right">
                  <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
              </div>
              <!-- /.box-header -->
              <div class="box-body">                  
               <div class="row">
                <div class="col-xs-6 col-md-12 text-center">
                    <input type="text" class="knob" value="{% if (canxest.cant_estruct2 > 0 ) %} {{((asixest.asignado_estruct2/canxest.cant_estruct2)*100)|round(2)}}% {%else%}0{%endif%}" data-skin="tron" data-thickness="0.2" data-width="120" data-height="120" data-fgColor="#00acee" data-readonly="true">
                </div>
                </div> 
                <div class="row">
                    <div> 
                      <ul> 
                          <li>Total definidas: {{ canxest.cant_estruct2 }}</li> 
                          <li>Total asignadas: {{ asixest.asignado_estruct2 }}</li> 
                      </ul>
                    </div>
                </div>                  
              </div>
              <!-- /.box-body -->

            </div>
              
          </div> 
        
        
                <!-- Columna derecha -->
          <div class="col-md-4">
            <!-- TABLE: LATEST ORDERS -->
            <div class="box box-success">
              <div class="box-header with-border">
                <h3 class="box-title">Estructura C</h3>

                <div class="box-tools pull-right">
                  <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
              </div>
              <!-- /.box-header -->
              <div class="box-body">                  
               <div class="row">
                <div class="col-xs-6 col-md-12 text-center">
                    <input type="text" class="knob" value="{% if (canxest.cant_estruct3 > 0 ) %} {{((asixest.asignado_estruct3/canxest.cant_estruct3)*100)|round(2)}}% {%else%}0{%endif%}" data-skin="tron" data-thickness="0.2" data-width="120" data-height="120" data-fgColor="red" data-readonly="true">
                </div>
                </div> 
                <div class="row">
                    <div> 
                      <ul> 
                          <li>Total definidas: {{ canxest.cant_estruct3 }}</li> 
                          <li>Total asignadas: {{ asixest.asignado_estruct3 }}</li>  
                      </ul>
                    </div>
                </div>                  
              </div>
              <!-- /.box-body -->

            </div>
              
          </div>  
      </div>    
<!-- =========== fin Votantes por distrito/Votantes por CV =========== --> 
      
      
             <!-- ************** Votantes por distrito/Votantes por CV ************** -->
      <div class="box-body filterDiv Votantes" >       
      <div class="row">
          <!-- Columna izquierda -->
          <div class="col-md-6">
            <!-- TABLE: LATEST ORDERS -->
            <div class="box box-info">
              <div class="box-header with-border">
                <h3 class="box-title">Votantes por distrito</h3>

                <div class="box-tools pull-right">
                  <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
              </div>
              <!-- /.box-header -->
              <div style="height: 300px; overflow-y: auto" class="box-body no-padding">
                  <ul class="nav nav-pills nav-stacked">
                        <table id="tbl_centros" class="table table-striped table-hover" style="width: 100%">
                        <thead>
                            <tr>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody> 
                        {% for vdis in votxdis %}
                        <tr>
                            <td>{{ vdis.nombre }}</td>
                            <td>    
                                <li>
                                  <a id="cdv{{ vdis.id_distrito }}" data-cdv="{{vdis.id_distrito}}" href="#">{{ vdis.nombre }}
                                      <span class="pull-right text-red">
                                          <i class="fa fa-angle-right"></i> {{ vdis.cant_votantes }}
                                      </span>
                                  </a>
                                </li>
                            </td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>   
                    </ul>
              </div>
              <!-- /.box-body -->

            </div>
              
          </div>  

        <!-- Columna derecha -->
          <div class="col-md-6">
            <!-- TABLE: LATEST ORDERS -->
            <div class="box box-info">
              <div class="box-header with-border">
                <h3 class="box-title">Votantes por CV en lista</h3>

                <div class="box-tools pull-right">
                  <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
              </div>
              <!-- /.box-header -->
              <div style="height: 300px; overflow-y: auto" class="box-body">
                  <!-- /.progress-group -->
                  {% for vxcv in votxcv|default(0) %} 
                  <div class="progress-group">
                    <span class="progress-text">{{vxcv.nombre}}</span>
                    <span class="progress-number"><b>{{ vxcv.total_votantes }}</b>/{{ vxcv.cargar_electoral}}</span>

                    <div class="progress sm">
                      <div class="progress-bar progress-bar-aqua" style="width: {%if(vxcv.cargar_electoral > 0 ) %}{{((vxcv.total_votantes/vxcv.cargar_electoral)*100)|round(2)}}%{% endif %}"></div>
                    </div>
                  </div>
                  {% endfor %}
                  <!-- /.progress-group -->
              </div>
              <!-- /.box-body -->
            </div>
          </div>
     </div> 
      </div> <!-- body --> 
    <div id="grafica" class="box">  
    <div class="row">
        <div class="col-md-12">
            <div class="chart">
                <!-- Sales Chart Canvas -->
                <canvas id="ineggrafico" style="height: 250px;" ></canvas>
            </div>  
        </div>
    </div>
    </div>    
                  
<!-- =========== fin Votantes por distrito/Votantes por CV =========== --> 
      
<!-- *********** Informaci√≥n de egresos por Campa√±a-Distritos-cv -->
<div class="row filterDiv Ingresos">
        <!-- Left col -->
            <div class="col-md-3">
       <!-- ************ Informaci√≥n de campa√±as ************** -->
              <div class="box box-danger">
                <div class="box-header with-border">
                  <h3 class="box-title">Gastos por distrito</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                        </button>
                        
                      <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                      </div>
                </div>
                <!-- /.box-header -->
                <div style="height: 200px; overflow-y: auto" class="box-body no-padding">
                  <ul class="nav nav-pills nav-stacked">
                    <table id="tbl_distritos" class="table table-striped table-hover" style="width: 100%">
                        <thead>
                            <tr>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody> 
                        {% for gdis in egdis %}
                        <tr>
                            <td>{{ gdis.campana }}</td>
                            <td>    
                                <li>
                                  <a id="dis{{ gdis.distrito }}" data-dis="{{gdis.distrito}}" href="#">{{ gdis.nombre }} 
                                      <span class="pull-right text-red">
                                          <i class="fa fa-angle-right"></i> {{ gdis.total|number_format(2,'.',',') }}
                                      </span>
                                  </a>
                                </li>
                            </td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>    
                    </ul>
                </div>
                <!-- /.box-body -->
                <div class="box-footer text-center">
                  <a id="vertododis" href="#" class="uppercase">Ver todos</a>
                </div>
                <!-- /.box-footer-->
              </div>
        <!-- ============ Informaci√≥n de campa√±as ============ -->
            </div>
            <div class="col-md-3">
        <!-- ************ Informaci√≥n de Distrito ************** -->
              <div class="box">
                <div class="box-header with-border">
                  <h3 class="box-title">Aportaciones distrito</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                        </button>
                        <div class="btn-group">
                          <button type="button" class="btn btn-box-tool dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-wrench"></i></button>
                          <ul class="dropdown-menu" role="menu">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Another action</a></li>
                            <li><a href="#">Something else here</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Separated link</a></li>
                          </ul>
                      </div>
                      <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                      </div>
                  
                </div>
                <!-- /.box-header -->
                <div style="height: 200px; overflow-y: auto" class="box-body no-padding">
                  <ul class="nav nav-pills nav-stacked">
                    <table id="tbl_distritos" class="table table-striped table-hover" style="width: 100%">
                        <thead>
                            <tr>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody> 
                        {#% for gcv in egcv %#}
                        <tr>
                            <td>{#{ gcv.distrito }#}</td>
                            <td>    
                                <li>
                                  <a id="dis{#{ gcv.cv }#}" data-dis="{#{gcv.cv}#}" href="#">{#{ gcv.nombre }#} 
                                      <span class="pull-right text-red">
                                          <i class="fa fa-angle-right"></i> {#{ gcv.total|number_format(2,'.',',') }#}
                                      </span>
                                  </a>
                                </li>
                            </td>
                        </tr>
                        {#% endfor %#}
                        </tbody>
                    </table>    
                    </ul>
                </div>
                <!-- /.box-body -->
                <div class="box-footer text-center">
                  <a id="vertododis" href="#" class="uppercase">Ver todos</a>
                </div>
                <!-- /.box-footer -->
              </div>
        <!-- ================ Informaci√≥n de Distrito ================= -->
            </div>
            <div class="col-md-3"> 
        <!-- ************ Informaci√≥n de Centros de Votacion ************** -->        
                <div class="box box-danger">
                  <div class="box-header with-border">
                      <h3 class="box-title">Gastos por cv</h3>
                      <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                        </button>
                        <div class="btn-group">
                          <button type="button" class="btn btn-box-tool dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-wrench"></i></button>
                          <ul class="dropdown-menu" role="menu">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Another action</a></li>
                            <li><a href="#">Something else here</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Separated link</a></li>
                          </ul>
                      </div>
                      <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                      </div>
                  </div>    
                <!-- /.box-header -->
                <div style="height: 200px; overflow-y: auto" class="box-body no-padding">
                      <ul class="nav nav-pills nav-stacked">
                        <table id="tbl_centros" class="table table-striped table-hover" style="width: 100%">
                        <thead>
                            <tr>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody> 
                        {% for gcv in egcv %}
                        <tr>
                            <td>{{ gcv.distrito }}</td>
                            <td>    
                                <li>
                                  <a id="cdv{{ gcv.cv }}" data-cdv="{{gcv.cv}}" href="#">{{ gcv.nombre }}
                                      <span class="pull-right text-red">
                                          <i class="fa fa-angle-right"></i> {{ gcv.total|number_format(2,'.',',') }}
                                      </span>
                                  </a>
                                </li>
                            </td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>   
                    </ul>
                  </div> 
                <!-- /.box-body -->
                        
                  <div class="box-footer text-center">
                    <a href="javascript:void(0)" class="uppercase">Ver todos</a>
                  </div>  
                </div>
        <!-- =================== Informaci√≥n de Centros de Votacion ============ -->
            </div>  
            <div class="col-md-3">
        <!-- ************ Informaci√≥n de Distrito ************** -->
              <div class="box">
                <div class="box-header with-border">
                  <h3 class="box-title">Aportaciones por cv</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                        </button>
                        <div class="btn-group">
                          <button type="button" class="btn btn-box-tool dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-wrench"></i></button>
                          <ul class="dropdown-menu" role="menu">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Another action</a></li>
                            <li><a href="#">Something else here</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Separated link</a></li>
                          </ul>
                      </div>
                      <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                      </div>
                  
                </div>
                <!-- /.box-header -->
                <div style="height: 200px; overflow-y: auto" class="box-body no-padding">
                      <ul class="nav nav-pills nav-stacked">
                        <table id="tbl_centros" class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody> 
                        {#% for gcv in egcv %#}
                        <tr>
                            <td>{#{ gcv.distrito }#}</td>
                            <td>    
                                <li>
                                  <a id="cdv{#{ gcv.cv }#}" data-cdv="{#{gcv.cv}#}" href="#">{#{ gcv.nombre }#}
                                      <span class="pull-right text-red">
                                          <i class="fa fa-angle-right"></i> {#{ gcv.total|number_format(2,'.',',') }#}
                                      </span>
                                  </a>
                                </li>
                            </td>
                        </tr>
                        {#% endfor %#}
                        </tbody>
                    </table>   
                    </ul>
                  </div> 
                <!-- /.box-body -->
                <div class="box-footer text-center">
                  <a id="vertododis" href="#" class="uppercase">Ver todos</a>
                </div>
                <!-- /.box-footer -->
              </div>
        <!-- ================ Informaci√≥n de Distrito ================= -->
            </div>

      </div>
<!-- ================ Informaci√≥n de egresos por Campa√±a-Distritos-cv ================= -->



<!-- *********** Informaci√≥n de egresos por Campa√±a-Distritos-cv -->
<div class="row filterDiv Campanas">
        <!-- Left col -->
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-4">
       <!-- ************ Informaci√≥n de campa√±as ************** -->
              <div class="box box-primary">
                <div class="box-header with-border">
                  <h3 class="box-title">Facebook</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                        </button>
                        
                      <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                      </div>
                </div>
                <!-- /.box-header -->
                <div style="height: 300px; overflow-y: auto" class="box-body">
                    <ul class="nav nav-pills nav-stacked">
                        <li>
                          <a href="#">Cantidades de fans: -</a>
                        </li>
                        <li>
                          <a href="#">Interacciones por mes: -</a>
                        </li>
                        <li>
                          <a href="#">Me enoja: {{ pubface.meenoja|default(0)}}</a>
                        </li>
                        <li>
                          <a href="#">Me gusta: {{ pubface.megusta|default(0)}}</a>
                        </li>
                        <li>
                          <a href="#">Me divierte: {{ pubface.medivierte|default(0) }}</a>
                        </li>
                        <li>
                          <a href="#">Me asombra: {{ pubface.measombra|default(0) }}</a>
                        </li>
                        <li>
                          <a href="#">Cantidades comentarios por mes: {{pubface.compositivos|default(0) + pubface.comnegativos|default(0) }}</a>
                        </li>
                        <li>
                          <a href="#">Comentarios positivos: {{pubface.compositivos|default(0) }}</a>
                        </li>
                        <li>
                          <a href="#">Comentarios negativos: {{pubface.comnegativos|default(0) }}</a>
                        </li>                    </ul>
                </div>
                <!-- /.box-body -->
                <div class="box-footer">
                  
                </div>
                <!-- /.box-footer-->
              </div>
        <!-- ============ Informaci√≥n de campa√±as ============ -->
            </div>
            <div class="col-md-4">
        <!-- ************ Informaci√≥n de Distrito ************** -->
              <div class="box box-info">
                <div class="box-header with-border">
                  <h3 class="box-title">Twiter</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                        </button>
                        <div class="btn-group">
                          <button type="button" class="btn btn-box-tool dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-wrench"></i></button>
                          <ul class="dropdown-menu" role="menu">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Another action</a></li>
                            <li><a href="#">Something else here</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Separated link</a></li>
                          </ul>
                      </div>
                      <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                      </div>
                  
                </div>
                <!-- /.box-header -->
                <div style="height: 300px; overflow-y: auto" class="box-body">
                    <ul class="nav nav-pills nav-stacked">
                        <li>
                          <a href="#">Cantidades de seguidores: -</a>
                        </li>
                        <li>
                          <a href="#">Tweet a favor: {{ pubtwit.tafavor}}</a>
                        </li>
                        <li>
                          <a href="#">Tweet en contra: {{ pubtwit.tnoafavor}}</a>
                        </li>
                        <li>
                          <a href="#">Retweet: {{ pubtwit.retwit }}</a>
                        </li>
                        <li>
                          <a href="#">Me encanta: - </a>
                        </li>                    </ul>
                </div>
                <!-- /.box-body -->
                <div class="box-footer text-center">
                </div>
                <!-- /.box-footer -->
              </div>
        <!-- ================ Informaci√≥n de Distrito ================= -->
            </div>
            <div class="col-md-4"> 
        <!-- ************ Informaci√≥n de Centros de Votacion ************** -->        
                <div class="box box-danger">
                  <div class="box-header with-border">
                      <h3 class="box-title">Instagram</h3>
                      <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                        </button>
                        <div class="btn-group">
                          <button type="button" class="btn btn-box-tool dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-wrench"></i></button>
                          <ul class="dropdown-menu" role="menu">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Another action</a></li>
                            <li><a href="#">Something else here</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Separated link</a></li>
                          </ul>
                      </div>
                      <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                      </div>
                  </div>
                <!-- /.box-header -->
                <div style="height: 300px; overflow-y: auto" class="box-body">
                    <ul class="nav nav-pills nav-stacked">
                        <li>
                          <a href="#">Alcance: 12,000</a>
                        </li>
                        <li>
                          <a href="#">Impresiones: 5,000</a>
                        </li>
                        <li>
                          <a href="#">Seguidores: 60000</a>
                        </li>
 
                    </ul>
                </div>
                <!-- /.box-body -->
                  <div class="box-footer text-center">
                  </div>  
                </div>
        <!-- =================== Informaci√≥n de Centros de Votacion ============ -->
            </div>       
          </div>         
        </div>
      </div>
<!-- ================ Informaci√≥n de egresos por Campa√±a-Distritos-cv ================= -->
<div id="ingegre" class="row">
        <div class="col-md-12">
          <div class="box">
            <div class="box-header with-border">
              <h3 class="box-title">Aportaciones vrs Gastos</h3>

              <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                </button>
                <div class="btn-group">
                  <button type="button" class="btn btn-box-tool dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-wrench"></i></button>
                  <ul class="dropdown-menu" role="menu">
                    <li><a href="#">Action</a></li>
                    <li><a href="#">Another action</a></li>
                    <li><a href="#">Something else here</a></li>
                    <li class="divider"></li>
                    <li><a href="#">Separated link</a></li>
                  </ul>
                </div>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
              <div class="row">
                <div class="col-md-12">
                  <p class="text-center">
                    <strong>Aportacion vs. Ingresos por Campa√±a</strong>
                  </p>

                  <div class="chart">
                    <!-- Sales Chart Canvas -->
                    <canvas id="balanceChart" style="height: 180px;"></canvas>
                  </div>
                  <!-- /.chart-responsive -->
                </div>
                <!-- /.col -->
                <!-- /.col -->
              </div>
              <!-- /.row -->
            </div>
            <!-- ./box-body -->
            <div class="box-footer">
              <div class="row">
                <div class="col-sm-3 col-xs-6">
                  <div class="description-block border-right">
                    <span class="description-percentage text-green"><i class="fa fa-caret-right"></i> 100%</span>
                    <h5 class="description-header">Lps. {{ (tipoapo.personas|default(0) + tipoapo.empresas|default(0))|number_format(2,'.',',') }}</h5>
                    <span class="description-text">TOTAL APORTACIONES</span>
                  </div>
                  <!-- /.description-block -->
                </div>
                <!-- /.col -->
                <div class="col-sm-3 col-xs-6">
                  <div class="description-block border-right">
                    <span class="description-percentage text-yellow"><i class="fa fa-caret-right"></i>{%if((tipoapo.personas|default(0) + tipoapo.empresas|default(0))>0)%}{{((tipoapo.personas|default(0)/(tipoapo.personas|default(0) + tipoapo.empresas|default(0)))*100)|number_format(2,'.',',')}}%{%else%}0{%endif%} </span>
                    <h5 class="description-header">Lps. {{ tipoapo.personas|number_format(2,'.',',')}}</h5>
                    <span class="description-text">FONDOS PERSONAS</span>
                  </div>
                  <!-- /.description-block -->
                </div>
                <!-- /.col -->
                <div class="col-sm-3 col-xs-6">
                  <div class="description-block border-right">
                    <span class="description-percentage text-green"><i class="fa fa-caret-right"></i>{%if((tipoapo.personas|default(0) + tipoapo.empresas|default(0))>0)%}{{((tipoapo.empresas|default(0)/(tipoapo.personas|default(0) + tipoapo.empresas|default(0)))*100)|number_format(2,'.',',')}}%{%else%}0{%endif%} </span>
                    <h5 class="description-header">Lps. {{ tipoapo.empresas|number_format(2,'.',',')}}</h5>
                    <span class="description-text">FONDOS EMPRESAS</span>
                  </div>
                  <!-- /.description-block -->
                </div>
                <!-- /.col -->
                <div class="col-sm-3 col-xs-6">
                  <div class="description-block">
                    <span class="description-percentage text-red"><i class="fa fa-caret-right"></i>{%if((tipoapo.especies|default(0) + tipoapo.economica|default(0))>0)%}{{((tipoapo.especies|default(0)/(tipoapo.especies|default(0) + tipoapo.economica|default(0)))*100)|number_format(2,'.',',')}}%{%else%}0{%endif%} </span>
                    <h5 class="description-header">Lps. {{ tipoapo.especies|number_format(2,'.',',')}}</h5>
                    <span class="description-text">FONDOS EN ESPECIES</span>
                  </div>
                  <!-- /.description-block -->
                </div>
              </div>
              <!-- /.row -->
            </div>
            <!-- /.box-footer -->
          </div>
          <!-- /.box -->
        </div>
        <!-- /.col -->
      </div>

<div class="row">
          <!-- Columna izquierda -->
          <div class="col-md-6">
            <!-- TABLE: LATEST ORDERS -->
            <div class="box box-info">
              <div class="box-header with-border">
                <h3 class="box-title">Ultimas tareas</h3>

                <div class="box-tools pull-right">
                  <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
              </div>
              <!-- /.box-header -->
              <div class="box-body">
                <div class="table-responsive">
                  <table class="table no-margin">
                    <thead>
                    <tr>
                      <th>Id</th>
                      <th>Tarea</th>
                      <th>Estado</th>
                      <th>Proceso</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for tara in datostarall|default(0) if tara.orden < 10 %}    
                    <tr>
                      <td><a href="{{ path('datostareas')}}">{{ tara.id }}</a></td>
                      <td>{{ tara.titulo }}</td>
                      <td><span class="label label-success">
                              {{ tara.estado }}
                        </span></td>
                      <td>
                        <div class="sparkpie" data-color="#0303FE" data-height="20">{{ tara.progreso }},{{ 100 - tara.progreso }}</div>
                      </td>
                    </tr>
                    {% endfor %}
                    </tbody>
                  </table>
                </div>
                <!-- /.table-responsive -->
              </div>
              <!-- /.box-body -->
              <div class="box-footer clearfix">
                <!--a href="#" class="btn btn-sm btn-info btn-flat pull-left"></a -->
                <a href="{{ path('datostareas')}}" class="btn btn-sm btn-default btn-flat pull-right">Ver todas</a>
              </div>
              <!-- /.box-footer -->
            </div>
              
          </div>  
          <div class="col-md-6">
              <div class="box box-primary">
                <div class="box-header with-border">
                  <h3 class="box-title">Resultados encuesta - Afinidad</h3>

                  <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                  </div>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                  <ul class="products-list product-list-in-box">
                    <table id="tbl_resultados" class="table table-striped table-hover" style="width: 100%">
                        <thead>
                            <tr>
                                <th>Edades</th>
                                <th>Total</th>
                                <th>Nacional</th>
                                <th>PAC</th>
                                <th>Liberar</th>
                            </tr>
                        </thead>
                        <tbody>
                        {% set gtotal = 0 %}    
                        {% set total_an = 0 %}    
                        {% set total_apac = 0 %}    
                        {% set total_al = 0 %}    
                        {% for aren in aresenc|default(0) %}
                        <tr>
                            <td>{{ aren.rango }}</td>
                            <td>{{ aren.total }}</td>
                            <td>{{ aren.a_nacional }}</td>
                            <td>{{ aren.a_pac }}</td>
                            <td>{{ aren.a_liberal }}</td>
                        </tr>
                        {% set gtotal = gtotal +  aren.total %}
                        {% set total_an = total_an +  aren.a_nacional %}
                        {% set total_apac = total_apac +  aren.a_pac %}
                        {% set total_al = total_al +  aren.a_liberal %}
                        {% endfor %}
                        </tbody>
                        <tfoot>
                            <tr style="font-weight: bold">
                                <td>Totales</td>
                                <td>{{ gtotal }}</td>
                                <td>{{ total_an }}</td>
                                <td>{{ total_apac }}</td>
                                <td>{{ total_al }}</td>
                            </tr>
                        </tfoot>    
                    </table>                        
                      
                  </ul>
                </div>
                <!-- /.box-body -->
                <div class="box-footer text-center">
                  <a href="{{ path('datosrespuestascuestionario')}}" class="uppercase">Ver encuesta</a>
                </div>
                <!-- /.box-footer -->
              </div>
          </div>    
      </div>
                  
<div class="row">
        <div class="col-xs-12">
          <div class="box box-solid">
            <div class="box-header">
              <i class="fa fa-calendar"></i>

              <h3 class="box-title">Calendario </h3>

              <div class="box-tools pull-right">
                <button type="button" class="btn btn-default btn-sm" data-widget="collapse"><i class="fa fa-minus"></i>
                </button>
                <button type="button" class="btn btn-default btn-sm" data-widget="remove"><i class="fa fa-times"></i>
                </button>
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <div class="row" style="margin: 1px 5px 1px 5px; ">
                    <div id='calendarmenu' class='calendarbg' ></div>
              </div>
              <!-- /.row -->
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
        <!-- /.col -->
      </div>

















































      
      



     
    </section>
    <!-- /.content -->
   {% endblock %}
  </div>
  <!-- /.content-wrapper -->

  <footer class="main-footer">
    {% block footer %}
    <div class="pull-right hidden-xs">
      <b>Version</b> 1.0.0
    </div>
    <strong>Derechos reservados &copy; 2019-2021 <a href="{{ path('focal_app_menu') }}">VICT<i class="fa fa-star"></i>RIA</a>.</strong>
    {% endblock %}
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    {% block sidebar %}
    
    {% endblock %}
  </aside>
  <!-- /.control-sidebar -->
  <!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
  <div class="control-sidebar-bg"></div>

</div>
<!-- ./wrapper -->
{% block javascripts %}
<!-- jQuery 3 -->
<script src="{{ asset('bundles/bower_components/jquery/dist/jquery.min.js') }}"></script>
<!-- Bootstrap 3.3.7 -->
<script src="{{ asset('bundles/bower_components/bootstrap/dist/js/bootstrap.min.js') }}"></script>
<!-- FastClick -->
<script src="{{ asset('bundles/bower_components/fastclick/lib/fastclick.js') }}"></script>
<!-- AdminLTE App -->
<script src="{{ asset('bundles/dist/js/adminlte.min.js') }}"></script>
<!-- Sparkline -->
<script src="{{ asset('bundles/bower_components/jquery-sparkline/dist/jquery.sparkline.min.js') }}"></script>
<!-- jvectormap  -->
<script src="{{ asset('bundles/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js') }}"></script>
<script src="{{ asset('bundles/plugins/jvectormap/jquery-jvectormap-world-mill-en.js') }}"></script>
<!-- SlimScroll -->
<script src="{{ asset('bundles/bower_components/jquery-slimscroll/jquery.slimscroll.min.js') }}"></script>
<!-- ChartJS -->
<script src="{{ asset('bundles/bower_components/chart.js/Chart.js') }}"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="{{ asset('bundles/dist/js/pages/dashboard2.js') }}"></script>
<!-- AdminLTE for demo purposes -->
<!--script src="{{ asset('bundles/dist/js/demo.js') }}"></script -->     
{% endblock %}
<script src="{{ asset('bundles/victoriaapp/js/jquery.dataTables.min.js')}}"></script>
<script src="{{ asset('bundles/victoriaapp/js/jquery.dataTables.bootstrap.min.js')}}"></script> 
<script type="text/javascript">

    $(document).ready(function() {
/******** Cuenta regresiva *********/

// Set the date we're counting down to
var countDownDate = new Date("Nov 26, 2021 06:00:00").getTime();

// Update the count down every 1 second
var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();

  // Find the distance between now and the count down date
  var distance = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  // Display the result in the element with id="demo"
  document.getElementById("cuentar").innerHTML = days + "d " + hours + "h "
  + minutes + "m " + seconds + "s ";

  // If the count down is finished, write some text
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("demo").innerHTML = "EXPIRED";
  }
}, 1000);

/*======== Cuenta regresiva =======*/
/******** Filtra los registros segun una campa√±a seleccionada *********/
        $('#vertododis').click(function(e){
            e.preventDefault();
            alert('in');
           table_distritos
    .columns( 0 )
    .search('>0')
    .draw(); 
        });
        
        $("a[id^='cmp']").click(function(e){
           e.preventDefault();
           var val = $(this).attr("data-cmp"); 
           table_distritos
            .columns( 0 )
            .search( val )
            .draw(); 
        });
        //DataTable de Distritos
        var table_distritos = $('#tbl_distritos').DataTable({
            searching: true,
            sDom: 'lrtip', //Elimina el input text box de la opcion  de busqueda
            paging:false,
            ordering:  false,
            info: false,
           "columnDefs": [
                {
                    "targets": [0],
                    "visible": false,
                    "searchable": true,
                }
            ],
        });
        
/********* Filtra los Centros de Votacion segun los distritos seleccionados *******/        
        $("a[id^='dis']").click(function(e){
           e.preventDefault();
           var val = $(this).attr("data-dis"); 
           table_centros
            .columns( 0 )
            .search( val )
            .draw(); 
        });
 
        var table_centros = $('#tbl_centros').DataTable({
            searching: true,
            sDom: 'lrtip', //Elimina el input text box de la opcion de busqueda
            paging:false,
            ordering:  false,
            info: false,
           "columnDefs": [
                {
                    "targets": [0],
                    "visible": false,
                    "searchable": true,
                }
            ],
        });
    });

/* **********  Barchar - Aportaciones vrs. Gastos por Campa√±as Politicas ********* */
var areaChartData = {
      labels  : [{% for vot in votxdis|default(0) %} '{{vot.nombre}}', {% endfor %}],
      datasets: [
        {
          label               : 'Votantes',
          fillColor           : 'rgba(210, 214, 222, 1)',
          strokeColor         : 'rgba(210, 214, 222, 1)',
          pointColor          : 'rgba(210, 214, 222, 1)',
          pointStrokeColor    : '#c1c7d1',
          pointHighlightFill  : '#fff',
          pointHighlightStroke: 'rgba(220,220,220,1)',          
          data                : [{% for vot in votxdis|default(0) %} {{vot.cant_votantes|default(0)}}, {% endfor %}]
        },
        {
          label               : 'Carga',
          fillColor           : 'rgba(60,141,188,0.9)',
          strokeColor         : 'rgba(60,141,188,0.8)',
          pointColor          : '#3b8bba',
          pointStrokeColor    : 'rgba(60,141,188,1)',
          pointHighlightFill  : '#fff',
          pointHighlightStroke: 'rgba(60,141,188,1)',
          data                : [{% for car in carxdis|default(0) %} {{car.total_carga|default(0)}}, {% endfor %} ]
        }
      ]
    };

    //-------------
    //- BAR CHART -
    //-------------
    var barChartCanvas                   = $('#ineggrafico').get(0).getContext('2d');
    //barChartCanvas.parentNode.style.width = "100%";
    //barChartCanvas.parentNode.style.height = "100%";
    var barChart                         = new Chart(barChartCanvas);
    var barChartData                     = areaChartData;
    barChartData.datasets[1].fillColor   = '#00a65a';
    barChartData.datasets[1].strokeColor = '#00a65a';
    barChartData.datasets[1].pointColor  = '#00a65a';
    var barChartOptions                  = {
      //Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value
      scaleBeginAtZero        : true,
      //Boolean - Whether grid lines are shown across the chart
      scaleShowGridLines      : true,
      //String - Colour of the grid lines
      scaleGridLineColor      : 'rgba(0,0,0,.05)',
      //Number - Width of the grid lines
      scaleGridLineWidth      : 1,
      //Boolean - Whether to show horizontal lines (except X axis)
      scaleShowHorizontalLines: true,
      //Boolean - Whether to show vertical lines (except Y axis)
      scaleShowVerticalLines  : true,
      //Boolean - If there is a stroke on each bar
      barShowStroke           : true,
      //Number - Pixel width of the bar stroke
      barStrokeWidth          : 2,
      //Number - Spacing between each of the X value sets
      barValueSpacing         : 5,
      //Number - Spacing between data sets within X values
      barDatasetSpacing       : 1,
      
      //Boolean - whether to make the chart responsive
      responsive              : true,
      maintainAspectRatio     : true,
    }
    //barChartCanvas.parentNode.style.width = "100%";
    barChartOptions.datasetFill = false;
    barChart.Bar(barChartData, barChartOptions);
/* ==========  Barchar - Aportaciones vrs. Gastos por Campa√±as Politicas ========= */
/*+++++++++++++++++++ Ingreso Egresos +++++++++++++++++++++++ */


var areaChartDataIE = {
      labels  : [{% for apo in apoxc|default(0) %} '{{apo.nombre}}', {% endfor %}],
      datasets: [
        {
          label               : 'Ingresos',
          fillColor           : 'rgba(210, 214, 222, 1)',
          strokeColor         : 'rgba(210, 214, 222, 1)',
          pointColor          : 'rgba(210, 214, 222, 1)',
          pointStrokeColor    : '#c1c7d1',
          pointHighlightFill  : '#fff',
          pointHighlightStroke: 'rgba(220,220,220,1)',          
          data                : [{% for apo in apoxc|default(0) %} {{apo.total}}, {% endfor %}]
        },
        {
          label               : 'Egresos',
          fillColor           : 'rgba(60,141,188,0.9)',
          strokeColor         : 'rgba(60,141,188,0.8)',
          pointColor          : '#3b8bba',
          pointStrokeColor    : 'rgba(60,141,188,1)',
          pointHighlightFill  : '#fff',
          pointHighlightStroke: 'rgba(60,141,188,1)',
          data                : [{% for egre in egrxc|default(0) %} {{egre.total}}, {% endfor %} ]
        }
      ]
    };

    //-------------
    //- BAR CHART -
    //-------------
    var barChartCanvasIE                   = $('#balanceChart').get(0).getContext('2d')
    var barChartIE                         = new Chart(barChartCanvasIE)
    var barChartDataIE                     = areaChartDataIE
    barChartDataIE.datasets[1].fillColor   = '#00a65a'
    barChartDataIE.datasets[1].strokeColor = '#00a65a'
    barChartDataIE.datasets[1].pointColor  = '#00a65a'
    var barChartOptionsIE                  = {
      //Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value
      scaleBeginAtZero        : true,
      //Boolean - Whether grid lines are shown across the chart
      scaleShowGridLines      : true,
      //String - Colour of the grid lines
      scaleGridLineColor      : 'rgba(0,0,0,.05)',
      //Number - Width of the grid lines
      scaleGridLineWidth      : 1,
      //Boolean - Whether to show horizontal lines (except X axis)
      scaleShowHorizontalLines: true,
      //Boolean - Whether to show vertical lines (except Y axis)
      scaleShowVerticalLines  : true,
      //Boolean - If there is a stroke on each bar
      barShowStroke           : true,
      //Number - Pixel width of the bar stroke
      barStrokeWidth          : 2,
      //Number - Spacing between each of the X value sets
      barValueSpacing         : 5,
      //Number - Spacing between data sets within X values
      barDatasetSpacing       : 1,
      
      //Boolean - whether to make the chart responsive
      responsive              : true,
      maintainAspectRatio     : true
    }

    barChartOptionsIE.datasetFill = false;
    barChartIE.Bar(barChartDataIE, barChartOptionsIE);

/*================== Ingreso Egresos ======================== */
</script>  

    <!--Calendario js -->

 <script src="{{ asset('bundles/victoriaapp/calendario/core/main.js')}}"></script>
  <script src="{{ asset('bundles/victoriaapp/calendario/interaction/main.js')}}"></script>
  <script src="{{ asset('bundles/victoriaapp/calendario/daygrid/main.js')}}"></script>
  
 <script type="text/javascript">

  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendarmenu');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      plugins: [ 'interaction', 'dayGrid' ],
      header: {
        left: 'prev ,today, next', //prevYear, nextYear
        center: 'title',
        right: 'dayGridMonth,dayGridWeek,dayGridDay'
      },
     // defaultDate: '2019-08-12',
      navLinks: true, // can click day/week names to navigate views
      editable: true,
      eventLimit: true, // allow "more" link when too many events
      locale: 'es',
      buttonText:
        {
          today:    'Hoy',
          month:    'Mes',
          week:     'Semana',
          day:      'Dia',
          list:     'Lista'
        },
      events: [
        {% for entity in entitiesEventos|default(0) %}
        {

          id: {{ entity.idEventos }},
          title: '{{ entity.titulo }}',
          start: '{% if entity.fechaInicio %}{{ entity.fechaInicio|date('Y-m-d') }}{% endif%}T{% if entity.fechaInicio %}{{ entity.fechaInicio|date('H:i:s') }}{% endif%}',
          end: '{% if entity.fechaFinal %}{{ entity.fechaFinal|date('Y-m-d') }}{% endif %}T{% if entity.fechaFinal %}{{ entity.fechaFinal|date('H:i:s') }}{% endif %}'

        },
        {% endfor %}  
      ]
    });
    calendar.render();
  });



</script>

<script>
filterSelection("Estructura")
function filterSelection(c) {
  var x, i;
  x = document.getElementsByClassName("filterDiv");
  if (c == "all") c = "";
  if(c === 'Votantes') {
      $('#grafica').show();
  } else {
      $('#grafica').hide();
  }
  if(c === 'Ingresos') {
      $('#ingegre').show();
  } else {
      $('#ingegre').hide();
  }
  for (i = 0; i < x.length; i++) {
    w3RemoveClass(x[i], "show");
    if (x[i].className.indexOf(c) > -1) w3AddClass(x[i], "show");
  }
}

function w3AddClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    if (arr1.indexOf(arr2[i]) == -1) {element.className += " " + arr2[i];}
  }
}

function w3RemoveClass(element, name) {
  var i, arr1, arr2;
  arr1 = element.className.split(" ");
  arr2 = name.split(" ");
  for (i = 0; i < arr2.length; i++) {
    while (arr1.indexOf(arr2[i]) > -1) {
      arr1.splice(arr1.indexOf(arr2[i]), 1);    
    }
  }
  element.className = arr1.join(" ");
}


</script>


</body>
</html>
